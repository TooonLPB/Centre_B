{% extends 'base.html.twig' %}

{% block title %}Edit User
{% endblock %}
{% block page_name %}
	Modification Utilisateur
{% endblock %}

{% block body %}

	<style>
		a {
			margin-bottom: 15px;
		}

		#edit_user_button {
			display: flex;
			justify-content: space-between;
		}
	</style>

	{{ form_errors(form) }}

	{{ form_start(form, {'attr': {'class': 'needs-validation', 'id': 'form_new_user'}}) }}
	{% if is_granted('ROLE_ADMIN') %}
		<a href="{{ path('app_user_index') }}" class="btn btn-primary">
			<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-return-left" viewbox="0 0 16 16">
				<path fill-rule="evenodd" d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5"></path>
			</svg>
			Retour liste utilisateurs
		</a>
	{% endif %}

	<div class="row">
		<div class="col-md-6 mb-3">
			{{ form_label(form.nom, null, {'label_attr': {'class': 'form-label'}}) }}
			{{ form_widget(form.nom, {'attr': {'class': 'form-control'}}) }}
		</div>
		<div class="col-md-6 mb-3">
			{{ form_label(form.prenom, null, {'label_attr': {'class': 'form-label'}}) }}
			{{ form_widget(form.prenom, {'attr': {'class': 'form-control'}}) }}
		</div>
		<div class="col-md-6 mb-3">
			{{ form_label(form.email, null, {'label_attr': {'class': 'form-label'}}) }}
			{{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
		</div>
		<div class="col-md-6 mb-3">
			{{ form_label(form.password, null, {'label_attr': {'class': 'form-label'}}) }}
			{{ form_widget(form.password, {'attr': {'class': 'form-control'}}) }}
		</div>
		{% if is_granted('ROLE_ADMIN') %}
			<div class="col-md-6 mb-3">
				{{ form_label(form.roles, null, {'label_attr': {'class': 'form-label'}}) }}
				{{ form_widget(form.roles, {'attr': {'class': 'form-control'}}) }}
			</div>
			<div class="col-md-6 mb-3">
				{{ form_label(form.formation, null, {'label_attr': {'class': 'form-label'}}) }}
				{{ form_widget(form.formation, {'attr': {'class': 'form-control'}}) }}
			</div>
		{% endif %}


	</div>
	{% if is_granted('ROLE_STUDENT')  %}
		<div id="additional-fields" style="display: none; margin-bottom: 15px;">
			{{ form_label(form.roles, null, {'label_attr': {'class': 'form-label'}}) }}
			{{ form_widget(form.roles, {'attr': {'class': 'form-control'}}) }}
		</div>
		<div id="additional-fields" style="display: none; margin-bottom: 15px;">
			{{ form_label(form.formation, null, {'label_attr': {'class': 'form-label'}}) }}
			{{ form_widget(form.formation, {'attr': {'class': 'form-control'}}) }}
		</div>
	{% endif %}

	<div id="edit_user_button">
		<div>
			{{ include('user/_form.html.twig', {'button_label': ''}) }}
		</div>
		<div>
			{{ include('user/_delete_form.html.twig') }}
		</div>
	</div>

	{{ form_end(form) }}

{% endblock %}
